<!DOCTYPE html>
<html lang="it" class="no-js">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; script-src 'self' 'unsafe-inline'; connect-src 'self';"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Step Unit – Underground Clubbing</title>
    <meta name="description" content="Step Unit porta il clubbing underground in spazi non convenzionali." />

    <!-- Performance hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #0e0e0e;
        --fg: #fafafa;
        --accent-r: #ff004d;
        --accent-g: #00e0ae;
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        background: var(--bg);
        color: var(--fg);
        font-family: "Inter", sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        overflow-x: hidden;
      }
      h1 {
        font-size: clamp(2rem, 8vw, 6rem);
        font-weight: 700;
        line-height: 1.1;
        position: relative;
        user-select: none;
      }
      .parallax {
        position: relative;
        display: inline-block;
      }
      .parallax span {
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
      }
      .parallax .main {
        color: var(--fg);
        mix-blend-mode: normal;
        position: relative;
      }
      .parallax .r {
        color: var(--accent-r);
        mix-blend-mode: screen;
        opacity: 0.85;
      }
      .parallax .g {
        color: var(--accent-g);
        mix-blend-mode: screen;
        opacity: 0.85;
      }

      /* fallback per JS disabilitato */
      .no-js .parallax span:not(.main) {
        display: none;
      }

      /* leggero glitch Y on hover */
      @keyframes glitchY {
        0% {
          transform: translateY(-2px);
        }
        50% {
          transform: translateY(2px);
        }
        100% {
          transform: translateY(-2px);
        }
      }
      h1:hover .main {
        animation: glitchY 0.3s steps(2, end) infinite;
      }
    </style>
  </head>
  <body>
    <h1 class="parallax">
      <span class="main">STEP&nbsp;UNIT</span>
      <span class="r">STEP&nbsp;UNIT</span>
      <span class="g">STEP&nbsp;UNIT</span>
    </h1>

    <!-- rimuove .no-js se JS è attivo -->
    <script>
      document.documentElement.classList.remove("no-js");
    </script>

    <!-- effetto parallax RGB -->
    <script defer type="module">
      const parallax = document.querySelector(".parallax");
      if (parallax) {
        const red = parallax.querySelector(".r");
        const green = parallax.querySelector(".g");
        const maxShift = 12; // px

        const handleMove = (e) => {
          const { innerWidth: w, innerHeight: h } = window;
          const xNorm = (e.clientX - w / 2) / (w / 2);
          const yNorm = (e.clientY - h / 2) / (h / 2);
          red.style.transform = `translate(${xNorm * maxShift}px, ${yNorm * maxShift}px)`;
          green.style.transform = `translate(${xNorm * -maxShift}px, ${yNorm * -maxShift}px)`;
        };

        window.addEventListener("mousemove", handleMove, { passive: true });
      }
    </script>
  </body>
</html>
